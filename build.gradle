plugins {
    id 'java-library'
    id 'maven-publish'
}

repositories {
    mavenCentral()
}

apply from: 'version.gradle'

group 'me.steffen'
version getVersionName()

sourceCompatibility = JavaVersion.VERSION_1_10

dependencies {
    compileOnly 'org.projectlombok:lombok:1.18.2'
    annotationProcessor 'org.projectlombok:lombok:1.18.2'

    compile 'org.apache.logging.log4j:log4j-core:2.11.1'
    compile 'org.apache.httpcomponents:httpclient:4.5.6'

    compile 'com.fasterxml.jackson.core:jackson-core:2.9.7'
    annotationProcessor 'com.fasterxml.jackson.core:jackson-annotations:2.9.7'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.9.7'

    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.1.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.1.0'
}

test {
    useJUnitPlatform()
}

publishing {
    publications {
        myLibrary(MavenPublication) {
            from components.java
        }
    }
}

javadoc {
    options.addBooleanOption('html5', true)
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

task showVersion {
    doLast {
        println 'VersionName: ' + getVersionName()
    }
}